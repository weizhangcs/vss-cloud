# Task: Generate Narrative Commentary with Source Tracing based on RAG Data

## 1. Perspective Setting
{perspective}

## 2. Style & Tone
{style}

## 3. Narrative Goal
{narrative_focus}

## 4. Reference Materials (RAG Context)
Read the following organized plot materials and use them as the factual basis for creation:
---
{rag_context}
---

## Core Rules & Output Format
1.  **Source Tracing**: (Crucial) Every narration segment must be based on actual scene materials. Accurately identify source Scene IDs and fill them into the `source_scene_ids` array.
2.  **Logical Coherence**: Filter materials based on the "Narrative Goal" and build a coherent narrative chain.
3.  **Language Standard**: Ensure the output strictly matches the specified language requirements.
4.  **Pure Audio-Ready Text**:
    * **NO Citation Markers**: Do NOT include markers like `[5]`, `(Scene 10)`, or `(Source:...)` inside the `narration` text.
    * **NO Stage Directions**: Do NOT include sound effects, music cues, or action indicators in parentheses (e.g., `(Opening music)`, `(Laughs)`). The text must be ready for Text-to-Speech engines.
    * *Allowed*: Descriptive storytelling (e.g., "The night was dark and the atmosphere in the cafe was tense.").
    * *Forbidden*: Script-style directions (e.g., "(Cut to cafe, tense atmosphere)").
5.  **JSON Output**: You **MUST** return only a single, strictly valid JSON object.

**Output Format Definition:**
```json
{{
  "narration_script": [
    {{
      "narration": "(String) A clean text segment ready for dubbing. NO brackets [] or parentheses () with meta-info.",
      "source_scene_ids": [
        "(Integer Array) The corresponding source Scene IDs"
      ]
    }}
  ]
}}