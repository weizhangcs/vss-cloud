# docker-compose.dev.yml
version: '3.8'

services:
  db:
    ports:
      - "8543:5432" # 开发环境映射数据库端口到宿主机，方便调试

  web:
    build: .
    command: python manage.py runserver 0.0.0.0:8001
    volumes:
      - .:/app # [Dev] 挂载源码
      - ./shared_media:/app/shared_media
    ports:
      - "8001:8001"

  worker:
    build: .
    volumes:
      - .:/app # [Dev] 挂载源码
      - ./shared_media:/app/shared_media